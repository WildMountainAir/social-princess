<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Social Princess - Home</title>
    <link rel="stylesheet" href="assets/stylesheets/main.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato:100,300,400">
    <link href="https://fonts.googleapis.com/css2?family=Butterfly+Kids&family=Miss+Fajardose&family=Rouge+Script&display=swap" rel="stylesheet">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <!-- Header -->
    <header class="primary-header container row-alt">
      <div>
        <a id="load">
        <img class="logo" src="assets/images/socialprincess_logo.png">
        </a>
      </div>

      <div>
        <img class="tagline tagline-img" src="assets/images/socialprincess_tagline.png">
      </div>
      <!-- Navigation -->
      <nav class="nav primary-nav">
        <ul>
          <li><a class="btn" href="index.html" alt="Home">Home</a></li>
          <li><a class="btn" href="profile.html" alt="profile">Profile</a></li>
        </ul>
      </nav>

      <h1 class="brand">Social Princess</h1>
    </header>
    <!-- Main Content-->
    <section class="row">
      <div class="grid">

      <!-- Tea Submit -->
        <section class="container group">
          <div class="tea-box">
            <!-- Spill the Tea Button -->
            <a id="post">
              <img class="icon btn-submit" src="assets/images/socialprincess_logo.png">
            </a>
            <!-- Tea Text Area -->
            <input id="messageBox" class="input-field" type="text" placeholder="Go on, spill the tea!">
          </div>
          </section>
        <!-- Spilt Tea Stream -->
        <section id="posts" class="container tea">
        </section>
      </div>
    </section>

      <!-- Footer -->


      <footer class="primary-footer">
          <img class="footer-img" src="assets/images/socialprincess_footer.png">
      <!-- Navigation -->
      <nav class="nav secondary-nav">
        <ul>
          <li><a class="btn-small" href="index.html" alt="Home">Home</a></li>
          <li><a class="btn-small" href="profile.html" alt="profile">Profile</a></li>
        </ul>
      </nav>
    </footer>
  </body>
  <div>
  <!-- jQuery -->
    <script>
      var loadTeas = function(x) {
        var source;
        if (x) {
          source = streams.users[x];
        } else {
          source = streams.home;
        }

        var $teas = $('.tea');
        var months = {1:'January',2:'February',3:'March',4:'April',5:'May',6:'June',7:'July',8:'August',9:'September',10:'October',11:'November',12:'December'};
        var index = source.length - 1;

        while(index >=0) {
          var tea = source[index];
          var userName = tea.user;
          var postTime = 'Posted on ' + months[(tea.created_at).getMonth()] + ' ' + (tea.created_at).getDate() + ', ' + (tea.created_at).getFullYear() + ' at ' + (tea.created_at).toTimeString();
          var $tea = $('<div class="tea"></div>')
          $tea.html('<img src="assets/images/socialprincess_logo.png" height="18px"> ' + '@' + '<a id="friend">' + userName + '</a>: ' + tea.message + '<br>' + '<h6>' + postTime + '</h6>');
          $tea.appendTo($teas);
          index -= 1;
        }
      }

      $(document).ready(function() {
        loadTeas();
      });

      // $("#load").on("click", function() {
      //   $("#posts").empty();
      //   loadTeas();
      // });

      // $("posts").on("click", "#friend", function() {
      //   $("#posts").empty();
      //   var princess = $(this).html();
      //   loadTeas(princess);
      // });

      // $("a#post").on("click", function() {
      //   var tea = $("messageBox").val();
      //   writeTea(tea);
      //   $("#posts").empty;
      //   loadTeas();
      // });
    </script>
  <div>
</html>